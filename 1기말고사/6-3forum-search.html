<!DOCTYPE html>
<html>
  
<head>
    <link rel="stylesheet" type="text/css" href="style_layout.css">
    <link rel="stylesheet" type="text/css" href="style_color.css">
    <meta author="ì†Œí”„íŠ¸ì›¨ì–´í•™ê³¼ 202121028 ê¹€ë™ìš°">
    <meta charset="utf-8"/>
</head>

<body>
    <div class="background">

        <p class="big_title">ForumğŸ—£ï¸</p>

        <div id="article_list"></div>
        
        <form>
        <div id="bottom_buttons1">
            <input type="button" value=&lt; class="button4-1" onclick="make_table(-1)">
            <input type="text" value = "" class="page_counter1" id="page_counter" disabled><!--6forumì´ë‘ ë˜‘ê°™ì€ í˜ì´ì§€ í‘œì‹œê¸°-->
            <input type="button" value=&gt; class="button4-2" onclick="make_table(1)">
            
        </div>
        </form>

        <div id="box" width="50%" height="50%">

        </div>
    </div>
</body>

    <script>

    var output = localStorage.getItem("board");
    var board = JSON.parse(output);//localstorageì— ì €ì¥ëœ ë°°ì—´ì„ ë¶ˆëŸ¬ì˜´

    var output = localStorage.getItem("forum_array_1");
    var forum_array_1 = JSON.parse(output);
    //6forumì—ì„œ ë³´ë‚¸ ê²€ìƒ‰ì¡°ê±´ì— ë§ëŠ” ì¸ë±ìŠ¤ë“¤ì˜ ë°°ì—´ì„ localstorageì—ì„œ ê°€ì ¸ì˜´.
    
    var page_count = 0; //í˜ì´ì§€ ë„˜ê¹€ ì¹´ìš´íŠ¸
    function make_table(num){//6forumì—ì„œ ì“´ê±°ë‘ ë˜‘ê°™ìŒ.
        var length = forum_array_1.length;
        var table = document.getElementById("article_list");
        var final_code = "<table id='article_list' border='0'> <tr> <th>ë²ˆí˜¸</th> <th>ì œëª©</th> <th>ì‘ì„±ì¼</th> <th>ì¢‹ì•„ìš”</th> </tr>";
        
        var articles_in_one_page = 15; //í•œ í˜ì´ì§€ë‹¹ ìµœëŒ€ ê¸€ ìˆ˜
        var full_page_count = Math.ceil(length/15)-1; //ê¸€ì´ 15ê°œ ê½‰ ì°¨ ìˆëŠ” í˜ì´ì§€ì˜ ìˆ˜
        var page_count = 0; //í˜ì´ì§€ ë„˜ê¹€ ì¹´ìš´íŠ¸
        
        page_count = page_count + num;

        if(page_count < 0){
            page_count = page_count + 1; 
        }
        else if (page_count >= (full_page_count+1)) { 
            page_count = page_count - 1;
        }

        var start = articles_in_one_page*page_count; //15*0 = 0
        var end = articles_in_one_page*(page_count+1) // 15*1 = 15
        if(page_count == full_page_count){
            end = length;
        }

        var page_counter = document.getElementById("page_counter");
        page_counter.value = (page_count+1)+" / "+(Math.ceil(length/articles_in_one_page));

        for(var i = start; i<end; i++){
            var num = parseInt(forum_array_1[i]);

            var code= "<tr> <td>"+(length-i)+"</td> <td onclick='save_article("+num+")'><a href='6-1forum-contents.html'>"+board[num][0]+"</a></td> <td>"+board[num][2]+"</td> <td>"+board[num][3]+"</td></tr>"
            final_code=final_code+code;
        }
        table.innerHTML=final_code;
    }

    function save_article(i) {
        window.localStorage.setItem("forum_value_1",i);
    }

    make_table(0);
    </script>
</html>